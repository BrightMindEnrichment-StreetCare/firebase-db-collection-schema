{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "HelpRequest",
  "description": "Schema for a document in the 'HelpRequest' collection, which tracks an instance of providing or identifying a need for help.",
  "type": "object",
  "properties": {
    "interactionLogDocId": {
      "type": "string",
      "description": "The document ID of the related entry in the 'InteractionLog' collection."
    },
    "firstName": {
      "type": "string",
      "description": "The first name of the person receiving help. This is shown publicly."
    },
    "lastName": {
      "type": "string",
      "description": "The last name of the person receiving help. Internal use only, private."
    },
    "locationLandmark": {
      "type": "string",
      "description": "A public landmark or general location of the interaction (no private addresses)."
    },
    "timestampOfInteraction": {
      "type": ["string", "null"],
      "format": "timestamp",
      "description": "The ISO 8601 timestamp of when the interaction occurred. Can be null. Duplicate the Date from the Interaction Log. Represents a Firestore Timestamp."
    },
    "helpProvidedCategory": {
      "type": "array",
      "description": "A list of categories describing the help that was provided.",
      "items": {
        "type": "string"
      }
    },
    "furtherHelpCategory": {
      "type": "array",
      "description": "A list of categories describing any further help that is needed.",
      "items": {
        "type": "string"
      }
    },
    "followUpTimestamp": {
      "type": ["string", "null"],
      "format": "timestamp",
      "description": "The scheduled date and time for a follow-up. Can be null. Represents a Firestore Timestamp."
    },
    "additionalDetails": {
      "type": "string",
      "description": "Any additional public notes or details about the help request."
    },
    "interactionLogFirstName": {
      "type": "string",
      "description": "Denormalized first name from the interaction log for quick reference and display purposes."
    },
    "isPublic": {
      "type": "boolean",
      "description": "Determines if this record should be made public, read from the form's consent checkmark.",
      "default": "true"
    },
    "status": {
      "type": "string",
      "description": "Denotes the current status of approval for the help request.",
      "default": "Pending"
    },
    "lastModifiedTimestamp": {
      "type": "string",
      "format": "timestamp",
      "description": "The last modified time stamp, it should be updated with current timestamp when status changes or the log is edited."
    },
    "lastActionPerformed": {
      "type": "string",
      "description": "ToDo: define what actions are to be considered to track, that aren't tracked by status. Eg: Edited, Re-edited.",
      "default": null
    },
    "completedTimestamp": {
      "type": "string",
      "format": "timestamp",
      "description": "Holds when the Help request is marked as completed."
    },
    "isCompleted": {
      "type": "boolean",
      "description": "Once marked complete, the help request should no longer show up in the default search listings.",
      "default": false
    }
  }
}
